--
-- PostgreSQL database dump
--

-- Dumped from database version 14.5
-- Dumped by pg_dump version 14.5

-- Started on 2022-12-13 18:39:15

SET statement_timeout = 0;
SET lock_timeout = 0;
SET idle_in_transaction_session_timeout = 0;
SET client_encoding = 'UTF8';
SET standard_conforming_strings = on;
SELECT pg_catalog.set_config('search_path', '', false);
SET check_function_bodies = false;
SET xmloption = content;
SET client_min_messages = warning;
SET row_security = off;

SET default_tablespace = '';

SET default_table_access_method = heap;

--
-- TOC entry 210 (class 1259 OID 16780)
-- Name: category; Type: TABLE; Schema: public; Owner: postgres
--

CREATE TABLE public.category (
    id integer NOT NULL,
    name character varying(255)
);


ALTER TABLE public.category OWNER TO postgres;

--
-- TOC entry 209 (class 1259 OID 16779)
-- Name: category_id_seq; Type: SEQUENCE; Schema: public; Owner: postgres
--

ALTER TABLE public.category ALTER COLUMN id ADD GENERATED BY DEFAULT AS IDENTITY (
    SEQUENCE NAME public.category_id_seq
    START WITH 1
    INCREMENT BY 1
    NO MINVALUE
    NO MAXVALUE
    CACHE 1
);


--
-- TOC entry 212 (class 1259 OID 16786)
-- Name: image; Type: TABLE; Schema: public; Owner: postgres
--

CREATE TABLE public.image (
    id integer NOT NULL,
    file_name character varying(255),
    product_id integer NOT NULL
);


ALTER TABLE public.image OWNER TO postgres;

--
-- TOC entry 211 (class 1259 OID 16785)
-- Name: image_id_seq; Type: SEQUENCE; Schema: public; Owner: postgres
--

ALTER TABLE public.image ALTER COLUMN id ADD GENERATED BY DEFAULT AS IDENTITY (
    SEQUENCE NAME public.image_id_seq
    START WITH 1
    INCREMENT BY 1
    NO MINVALUE
    NO MAXVALUE
    CACHE 1
);


--
-- TOC entry 214 (class 1259 OID 16792)
-- Name: orders; Type: TABLE; Schema: public; Owner: postgres
--

CREATE TABLE public.orders (
    id integer NOT NULL,
    count integer NOT NULL,
    date_time timestamp without time zone,
    number character varying(255),
    price real NOT NULL,
    status integer,
    person_id integer NOT NULL,
    product_id integer NOT NULL
);


ALTER TABLE public.orders OWNER TO postgres;

--
-- TOC entry 213 (class 1259 OID 16791)
-- Name: orders_id_seq; Type: SEQUENCE; Schema: public; Owner: postgres
--

ALTER TABLE public.orders ALTER COLUMN id ADD GENERATED BY DEFAULT AS IDENTITY (
    SEQUENCE NAME public.orders_id_seq
    START WITH 1
    INCREMENT BY 1
    NO MINVALUE
    NO MAXVALUE
    CACHE 1
);


--
-- TOC entry 216 (class 1259 OID 16798)
-- Name: person; Type: TABLE; Schema: public; Owner: postgres
--

CREATE TABLE public.person (
    id integer NOT NULL,
    login character varying(50),
    password character varying(255),
    role character varying(255)
);


ALTER TABLE public.person OWNER TO postgres;

--
-- TOC entry 215 (class 1259 OID 16797)
-- Name: person_id_seq; Type: SEQUENCE; Schema: public; Owner: postgres
--

ALTER TABLE public.person ALTER COLUMN id ADD GENERATED BY DEFAULT AS IDENTITY (
    SEQUENCE NAME public.person_id_seq
    START WITH 1
    INCREMENT BY 1
    NO MINVALUE
    NO MAXVALUE
    CACHE 1
);


--
-- TOC entry 218 (class 1259 OID 16806)
-- Name: product; Type: TABLE; Schema: public; Owner: postgres
--

CREATE TABLE public.product (
    id integer NOT NULL,
    date_time_of_created timestamp without time zone,
    description text NOT NULL,
    price real NOT NULL,
    seller character varying(255) NOT NULL,
    title text NOT NULL,
    warehouse character varying(255) NOT NULL,
    category_id integer NOT NULL,
    CONSTRAINT product_price_check CHECK ((price >= (1)::double precision))
);


ALTER TABLE public.product OWNER TO postgres;

--
-- TOC entry 220 (class 1259 OID 16815)
-- Name: product_cart; Type: TABLE; Schema: public; Owner: postgres
--

CREATE TABLE public.product_cart (
    id integer NOT NULL,
    person_id integer,
    product_id integer
);


ALTER TABLE public.product_cart OWNER TO postgres;

--
-- TOC entry 219 (class 1259 OID 16814)
-- Name: product_cart_id_seq; Type: SEQUENCE; Schema: public; Owner: postgres
--

ALTER TABLE public.product_cart ALTER COLUMN id ADD GENERATED BY DEFAULT AS IDENTITY (
    SEQUENCE NAME public.product_cart_id_seq
    START WITH 1
    INCREMENT BY 1
    NO MINVALUE
    NO MAXVALUE
    CACHE 1
);


--
-- TOC entry 217 (class 1259 OID 16805)
-- Name: product_id_seq; Type: SEQUENCE; Schema: public; Owner: postgres
--

ALTER TABLE public.product ALTER COLUMN id ADD GENERATED BY DEFAULT AS IDENTITY (
    SEQUENCE NAME public.product_id_seq
    START WITH 1
    INCREMENT BY 1
    NO MINVALUE
    NO MAXVALUE
    CACHE 1
);


--
-- TOC entry 3350 (class 0 OID 16780)
-- Dependencies: 210
-- Data for Name: category; Type: TABLE DATA; Schema: public; Owner: postgres
--

INSERT INTO public.category (id, name) VALUES (1, 'Книги');


--
-- TOC entry 3352 (class 0 OID 16786)
-- Dependencies: 212
-- Data for Name: image; Type: TABLE DATA; Schema: public; Owner: postgres
--

INSERT INTO public.image (id, file_name, product_id) VALUES (1, '0b3df1bd-ddd1-4571-85f0-d6ada8976188.2736516_detail.jpg', 3);
INSERT INTO public.image (id, file_name, product_id) VALUES (2, '1c5ae9d1-2713-4e97-943f-31c7dbb07ea7.', 3);
INSERT INTO public.image (id, file_name, product_id) VALUES (3, 'a6787a6e-39a4-4fc4-9baf-8bd2debe49df.', 3);
INSERT INTO public.image (id, file_name, product_id) VALUES (4, 'f7a944a7-0a1e-4dd7-adfc-c5509beb7647.', 3);
INSERT INTO public.image (id, file_name, product_id) VALUES (5, '54adde8b-219e-41e9-be9c-ae698b95ab49.', 3);
INSERT INTO public.image (id, file_name, product_id) VALUES (6, 'ddecb350-782c-45b1-8051-0a1f91438912.2231825_detail.jpg', 4);
INSERT INTO public.image (id, file_name, product_id) VALUES (7, '06c59bf2-c7eb-4068-bd71-11ad2c31082b.', 4);
INSERT INTO public.image (id, file_name, product_id) VALUES (8, 'c928486f-7a2f-47e9-a72c-f398b2527b4e.', 4);
INSERT INTO public.image (id, file_name, product_id) VALUES (9, '179153ff-1bb7-49c1-bc02-de259fcb1dfa.', 4);
INSERT INTO public.image (id, file_name, product_id) VALUES (10, '9cf6a614-1a23-4279-ac1c-7a18143eadd4.', 4);
INSERT INTO public.image (id, file_name, product_id) VALUES (11, '313f5a83-6502-4e77-a121-9a48a7d630d4.2736516_detail.jpg', 5);
INSERT INTO public.image (id, file_name, product_id) VALUES (12, '837cdc95-1d4c-42a1-8fab-bd89ebbcf56a.', 5);
INSERT INTO public.image (id, file_name, product_id) VALUES (13, '135749c6-8429-4f10-b876-dbd758e268e5.', 5);
INSERT INTO public.image (id, file_name, product_id) VALUES (14, '32cd0e5e-9981-4894-9f19-ab14933be4c0.', 5);
INSERT INTO public.image (id, file_name, product_id) VALUES (15, '6a979f51-5252-450f-a5e1-c2b1bf2c0d33.', 5);
INSERT INTO public.image (id, file_name, product_id) VALUES (16, 'b0fed14b-ad9d-41fd-8d19-807ae8ea06cc.2961004_detail.jpg', 6);
INSERT INTO public.image (id, file_name, product_id) VALUES (17, '461ef211-819d-4664-a95a-605159e922d5.', 6);
INSERT INTO public.image (id, file_name, product_id) VALUES (18, '072a185f-1d9c-471d-9ccf-bfba0a5f20e0.', 6);
INSERT INTO public.image (id, file_name, product_id) VALUES (19, '5858fc09-28c1-4963-a52b-6d4172267fd4.', 6);
INSERT INTO public.image (id, file_name, product_id) VALUES (20, '209be530-cf31-4b57-a995-df6ce2aa98b5.', 6);
INSERT INTO public.image (id, file_name, product_id) VALUES (21, '78be4fd9-e9e6-40aa-a2cd-37149ed100bd.2231825_detail.jpg', 7);
INSERT INTO public.image (id, file_name, product_id) VALUES (22, '1791df64-f2a1-4e54-b91e-a1a33d42c744.', 7);
INSERT INTO public.image (id, file_name, product_id) VALUES (23, 'a3d94ae7-8523-42ff-a084-0ca9362b6b01.', 7);
INSERT INTO public.image (id, file_name, product_id) VALUES (24, '5c2c03b5-06c8-46c5-8f66-d7d77879a66b.', 7);
INSERT INTO public.image (id, file_name, product_id) VALUES (25, 'ede2ca1c-ac36-45c4-8828-cdd1ef895079.', 7);
INSERT INTO public.image (id, file_name, product_id) VALUES (26, '41cb0577-99bc-4ed7-8320-47bed3f968e5.2961004_detail.jpg', 8);
INSERT INTO public.image (id, file_name, product_id) VALUES (27, '8dc1c694-dd2a-4a8c-b37f-b9b8b9f798b8.Снимок.JPG', 8);
INSERT INTO public.image (id, file_name, product_id) VALUES (28, '89b0a3bd-03d6-407c-82d4-d3d26e78ae0b.2736516_detail.jpg', 8);
INSERT INTO public.image (id, file_name, product_id) VALUES (29, '34ea2688-a19c-4c79-80a4-e2cee2c28eb1.', 8);
INSERT INTO public.image (id, file_name, product_id) VALUES (30, 'b9a27603-07ce-476f-a88b-bbf239d0c889.', 8);


--
-- TOC entry 3354 (class 0 OID 16792)
-- Dependencies: 214
-- Data for Name: orders; Type: TABLE DATA; Schema: public; Owner: postgres
--

INSERT INTO public.orders (id, count, date_time, number, price, status, person_id, product_id) VALUES (1, 1, '2022-12-09 19:22:14.130505', 'fc11b768-9723-4ff7-8c5b-71a38e191578', 2100, 3, 1, 3);
INSERT INTO public.orders (id, count, date_time, number, price, status, person_id, product_id) VALUES (3, 1, '2022-12-10 08:34:16.243139', 'e279228e-fd30-4a94-ae81-93766e5ff94e', 800, 4, 1, 4);
INSERT INTO public.orders (id, count, date_time, number, price, status, person_id, product_id) VALUES (5, 1, '2022-12-12 18:22:44.904158', '2f66291b-b46b-43f6-a85e-0fe77be7185e', 2100, 1, 1, 3);
INSERT INTO public.orders (id, count, date_time, number, price, status, person_id, product_id) VALUES (4, 1, '2022-12-10 13:50:02.066857', '0b07ea32-2833-43ae-8c9a-4bd35e8cac7b', 2100, 3, 1, 3);


--
-- TOC entry 3356 (class 0 OID 16798)
-- Dependencies: 216
-- Data for Name: person; Type: TABLE DATA; Schema: public; Owner: postgres
--

INSERT INTO public.person (id, login, password, role) VALUES (1, 'User1', '$2a$10$0JSq68D/1KHcI126mh3ZUOT7ysb433S9ocD.ImPc6uYAIwYbJEEhq', 'ROLE_USER');
INSERT INTO public.person (id, login, password, role) VALUES (2, 'Admin1', '$2a$10$EOAl/a1DRBbjks9ffT.ft.kieZcRadtQRWUsdIjMySP7gDNeKwDoe', 'ROLE_ADMIN');


--
-- TOC entry 3358 (class 0 OID 16806)
-- Dependencies: 218
-- Data for Name: product; Type: TABLE DATA; Schema: public; Owner: postgres
--

INSERT INTO public.product (id, date_time_of_created, description, price, seller, title, warehouse, category_id) VALUES (3, '2022-12-08 07:48:23.764576', 'Описание книги', 2100, 'Продавец 1', 'Трилогия под одной обложкой. Метро 2033. Метро 2034. Метро 2035', 'Ростов-на-Дону', 1);
INSERT INTO public.product (id, date_time_of_created, description, price, seller, title, warehouse, category_id) VALUES (4, '2022-12-08 07:49:51.242595', 'описание книги', 800, 'Продавец 2', 'Чистый код: создание, анализ и рефакторинг', 'Краснодар', 1);
INSERT INTO public.product (id, date_time_of_created, description, price, seller, title, warehouse, category_id) VALUES (5, '2022-12-08 17:53:51.99241', 'иека', 534, 'инуку', 'уепкп', 'Ростов-на-Дону', 1);
INSERT INTO public.product (id, date_time_of_created, description, price, seller, title, warehouse, category_id) VALUES (6, '2022-12-08 17:54:18.845281', 'укеие', 2534, 'н5рпекуак', 'Я только рыцарь и поэт...', 'Ростов-на-Дону', 1);
INSERT INTO public.product (id, date_time_of_created, description, price, seller, title, warehouse, category_id) VALUES (7, '2022-12-08 17:54:36.477122', 'нр5', 534, 'треипка', 'н5рупце4', 'Краснодар', 1);
INSERT INTO public.product (id, date_time_of_created, description, price, seller, title, warehouse, category_id) VALUES (8, '2022-12-09 21:08:37.587615', 'rtge', 342432, 'efrgfh', '3453654532', 'Ростов-на-Дону', 1);


--
-- TOC entry 3360 (class 0 OID 16815)
-- Dependencies: 220
-- Data for Name: product_cart; Type: TABLE DATA; Schema: public; Owner: postgres
--



--
-- TOC entry 3366 (class 0 OID 0)
-- Dependencies: 209
-- Name: category_id_seq; Type: SEQUENCE SET; Schema: public; Owner: postgres
--

SELECT pg_catalog.setval('public.category_id_seq', 1, false);


--
-- TOC entry 3367 (class 0 OID 0)
-- Dependencies: 211
-- Name: image_id_seq; Type: SEQUENCE SET; Schema: public; Owner: postgres
--

SELECT pg_catalog.setval('public.image_id_seq', 30, true);


--
-- TOC entry 3368 (class 0 OID 0)
-- Dependencies: 213
-- Name: orders_id_seq; Type: SEQUENCE SET; Schema: public; Owner: postgres
--

SELECT pg_catalog.setval('public.orders_id_seq', 5, true);


--
-- TOC entry 3369 (class 0 OID 0)
-- Dependencies: 215
-- Name: person_id_seq; Type: SEQUENCE SET; Schema: public; Owner: postgres
--

SELECT pg_catalog.setval('public.person_id_seq', 2, true);


--
-- TOC entry 3370 (class 0 OID 0)
-- Dependencies: 219
-- Name: product_cart_id_seq; Type: SEQUENCE SET; Schema: public; Owner: postgres
--

SELECT pg_catalog.setval('public.product_cart_id_seq', 10, true);


--
-- TOC entry 3371 (class 0 OID 0)
-- Dependencies: 217
-- Name: product_id_seq; Type: SEQUENCE SET; Schema: public; Owner: postgres
--

SELECT pg_catalog.setval('public.product_id_seq', 8, true);


--
-- TOC entry 3191 (class 2606 OID 16784)
-- Name: category category_pkey; Type: CONSTRAINT; Schema: public; Owner: postgres
--

ALTER TABLE ONLY public.category
    ADD CONSTRAINT category_pkey PRIMARY KEY (id);


--
-- TOC entry 3193 (class 2606 OID 16790)
-- Name: image image_pkey; Type: CONSTRAINT; Schema: public; Owner: postgres
--

ALTER TABLE ONLY public.image
    ADD CONSTRAINT image_pkey PRIMARY KEY (id);


--
-- TOC entry 3195 (class 2606 OID 16796)
-- Name: orders orders_pkey; Type: CONSTRAINT; Schema: public; Owner: postgres
--

ALTER TABLE ONLY public.orders
    ADD CONSTRAINT orders_pkey PRIMARY KEY (id);


--
-- TOC entry 3197 (class 2606 OID 16804)
-- Name: person person_pkey; Type: CONSTRAINT; Schema: public; Owner: postgres
--

ALTER TABLE ONLY public.person
    ADD CONSTRAINT person_pkey PRIMARY KEY (id);


--
-- TOC entry 3203 (class 2606 OID 16819)
-- Name: product_cart product_cart_pkey; Type: CONSTRAINT; Schema: public; Owner: postgres
--

ALTER TABLE ONLY public.product_cart
    ADD CONSTRAINT product_cart_pkey PRIMARY KEY (id);


--
-- TOC entry 3199 (class 2606 OID 16813)
-- Name: product product_pkey; Type: CONSTRAINT; Schema: public; Owner: postgres
--

ALTER TABLE ONLY public.product
    ADD CONSTRAINT product_pkey PRIMARY KEY (id);


--
-- TOC entry 3201 (class 2606 OID 16821)
-- Name: product uk_qka6vxqdy1dprtqnx9trdd47c; Type: CONSTRAINT; Schema: public; Owner: postgres
--

ALTER TABLE ONLY public.product
    ADD CONSTRAINT uk_qka6vxqdy1dprtqnx9trdd47c UNIQUE (title);


--
-- TOC entry 3205 (class 2606 OID 16827)
-- Name: orders fk1b0m4muwx1t377w9if3w6wwqn; Type: FK CONSTRAINT; Schema: public; Owner: postgres
--

ALTER TABLE ONLY public.orders
    ADD CONSTRAINT fk1b0m4muwx1t377w9if3w6wwqn FOREIGN KEY (person_id) REFERENCES public.person(id);


--
-- TOC entry 3207 (class 2606 OID 16837)
-- Name: product fk1mtsbur82frn64de7balymq9s; Type: FK CONSTRAINT; Schema: public; Owner: postgres
--

ALTER TABLE ONLY public.product
    ADD CONSTRAINT fk1mtsbur82frn64de7balymq9s FOREIGN KEY (category_id) REFERENCES public.category(id);


--
-- TOC entry 3206 (class 2606 OID 16832)
-- Name: orders fk787ibr3guwp6xobrpbofnv7le; Type: FK CONSTRAINT; Schema: public; Owner: postgres
--

ALTER TABLE ONLY public.orders
    ADD CONSTRAINT fk787ibr3guwp6xobrpbofnv7le FOREIGN KEY (product_id) REFERENCES public.product(id);


--
-- TOC entry 3204 (class 2606 OID 16822)
-- Name: image fkgpextbyee3uk9u6o2381m7ft1; Type: FK CONSTRAINT; Schema: public; Owner: postgres
--

ALTER TABLE ONLY public.image
    ADD CONSTRAINT fkgpextbyee3uk9u6o2381m7ft1 FOREIGN KEY (product_id) REFERENCES public.product(id);


--
-- TOC entry 3209 (class 2606 OID 16847)
-- Name: product_cart fkhpnrxdy3jhujameyod08ilvvw; Type: FK CONSTRAINT; Schema: public; Owner: postgres
--

ALTER TABLE ONLY public.product_cart
    ADD CONSTRAINT fkhpnrxdy3jhujameyod08ilvvw FOREIGN KEY (product_id) REFERENCES public.product(id);


--
-- TOC entry 3208 (class 2606 OID 16842)
-- Name: product_cart fksgnkc1ko2i1o9yr2p63ysq3rn; Type: FK CONSTRAINT; Schema: public; Owner: postgres
--

ALTER TABLE ONLY public.product_cart
    ADD CONSTRAINT fksgnkc1ko2i1o9yr2p63ysq3rn FOREIGN KEY (person_id) REFERENCES public.person(id);


-- Completed on 2022-12-13 18:39:15

--
-- PostgreSQL database dump complete
--

